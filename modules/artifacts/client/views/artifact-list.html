<div class="artifact-list-view">
  <div class="panel panel-default">

    <div class="panel-heading clearfix">
      <h2>{{s.caption}}</h2>
      <tmpl-permissions-gear class="permission-btn" x-context="s.project" x-object="s.project" x-permissions="listArtifacts"></tmpl-permissions-gear>
    </div>

    <!-- TABLE -->
    <div class="button-bar">
      <button class="btn btn-default btn-sm " type="button" ng-click="$event.stopPropagation();s.openAddTypes()">
        <span class="glyphicon glyphicon-plus"></span><span>Add Content</span></button>
    </div>
    <table class="table table-hover" ng-table="s.tableParams" show-filter="true">
      <tr ng-repeat="o in $data" ui-sref="p.artifact.view({artifactId:o._id})" class="clickable">
        <td class="artifact-name-col" header-class="'artifact-name-col'" data-title="'Name'" filter="{'name':'text'}"
            sortable="'name'">{{o.name}}
        </td>
        <td data-title="'Version'" filter="{'version':'select'}" filter-data="s.versionArray" class="text-center"
            sortable="'version'">{{o.version}}
        </td>
        <td data-title="'Stage'" filter="{'stage':'select'}" filter-data="s.stageArray" class="text-center"
            sortable="'stage'">{{o.stage}}
        </td>
        <!-- <td data-title="'Desc.'" filter="{'shortDescription':'text'}" class="text-center" sortable="'shortDescription'">{{o.shortDescription}}</td> -->
        <td data-title="'Last Update'" class="text-center" filter="{'dateUpdated':'text'}" sortable="'dateUpdated'">{{
          o.dateUpdated | date : format : timezone }}
        </td>
        <td data-title="'Updated By'" class="text-center" filter="{'updatedBy.username':'text'}"
            sortable="'updatedBy.username'">{{o.updatedBy.username}}
        </td>
        <td class="actions-col action-x2" header-class="'actions-col action-x2'">
          <a class="btn btn-link btn-sm" ng-if="o.userPermissions.write" ng-click="$event.stopPropagation()"
             ui-sref="p.artifact.edit({artifactId:o._id})">
            <span class="glyphicon glyphicon-pencil"></span>
          </a>
          <tmpl-permissions-gear class="permission-btn" x-context="s.project" x-object="o"></tmpl-permissions-gear>
        </td>
      </tr>
      <tr ng-if="!$data || $data.length === 0">
        <td colspan="6">
          <span>{{s.noDataMessage}}</span>
        </td>
      </tr>
    </table><!-- / TABLE -->

  </div>

</div>
