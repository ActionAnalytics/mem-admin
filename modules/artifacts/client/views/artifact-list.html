<div class="row">
	<div class="col-sm-6 col-sm-offset-6 text-right form-inline">
		<div class="form-group">

			<a href class="pull-right btn btn-sm btn-link" ng-click="s.showfilter = !s.showfilter">
				<span ng-show="s.showfilter"><span class="glyphicon glyphicon-search" aria-hidden="true"></span> <span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></span>
				<span ng-show="!s.showfilter"><span class="glyphicon glyphicon-search" aria-hidden="true"></span> <span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></span>
			</a>
		</div>
		<div class="dropdown form-group" ng-if="!s.public">
			<div class="input-group input-sm" data-toggle="dropdown">
				<input class="entryInput form-control input-sm" id="query" name="query" type="text" placeholder="select an artifact type" ng-model="s.addtype"></input>
				<span class="input-group-btn">
					<button ng-disabled="!s.addtype" ng-click="$event.stopPropagation();s.addType()" class="btn btn-default btn-sm btn-primary" type="button">Add</button>
				</span>
			</div>
			<ul class="dropdown-menu" role="menu" aria-labelledby="query">
				<li class="clickable" ng-click="s.selectType(type)" ng-repeat="type in s.availableTypes"> &nbsp; {{type}}</li>
			</ul>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-sm-12">
		<section class="panel panel-default">
			<table ng-table="s.tableParams" show-filter="s.showfilter" class="table table-condensed table-hover	table-striped">
				<tr ng-repeat="o in $data" ui-sref="p.artifact.view({artifactId:o._id})" class="clickable">
					<td data-title="'Type'"    filter="{'typeName':'text'}"     sortable="'typeName'"    >{{o.typeName}}</td>
					<td data-title="'Version'" filter="{'version':'text'}"   	class="text-center" sortable="'version'"  >{{o.version}}</td>
					<td data-title="'Stage'"   filter="{'stage':'text'}"    	class="text-center" sortable="'stage'"   >{{o.stage}}</td>
					<td data-title="'Published'" sortable="'published'"><i ng-if="o.published" class="glyphicon glyphicon-pencil"></i></td>
					<td width="1%" class="text-right">
			        		<span ng-if="o.userPermissions.write && !o.published">
				        	<a ng-click="$event.stopPropagation()" class="btn btn-link btn-xs" ui-sref="p.artifact.edit({artifactId:o._id})">
				        	<i class="glyphicon glyphicon-pencil"></i>
				        	</a>
				        </span>
			        </td>
				</tr>
				<tr ng-if="!$data || $data.length === 0">
					<td colspan="5">
						To add an artifact, select from the list above and click the Add button.
					</td>
				</tr>			    
			</table>
		</section>
	</div>
</div>
