<div class="project-comment-period-view">

	<div class="view-title-container">
		<h1>{{ project.name }}&nbsp; &rsaquo; &nbsp;Comment Periods</h1>
		<tmpl-permissions-gear class="permission-btn" x-context="menu.project" x-object="menu.project"></tmpl-permissions-gear>
	</div>

	<div class="view-body-container">
		<div class="button-bar clearfix">
			<a ng-if="project.userCan.createCommentPeriod" class="btn btn-default btn-sm pull-left" ui-sref="p.commentperiod.create()">
				<span class="glyphicon glyphicon-plus"></span>
				<span>Add Comment Period</span>
			</a>
			<div class="pull-right">
				<show-filter x-toggle-filter="toggleFilter"></show-filter>
			</div>
		</div>
		<section class="panel panel-default">
			<table ng-table="tableParams" show-filter="toggleFilter" class="table table-striped table-hover">
				<tr ng-repeat="p in $data" ui-sref="p.commentperiod.detail({periodId:p._id})">
					<td title="'Type'" filter="{ periodType: 'text'}" sortable="'periodType'">
						{{p.periodType}}
					</td>
					<td title="'Phase'" filter="{ phaseName: 'text'}" sortable="'phaseName'">
						{{p.phaseName}}
					</td>
					<td title="'Artifact'" filter="{ artifactName: 'text'}" sortable="'artifactName'">
						{{p.artifactName}}
					</td>
					<td title="'Version'" filter="{ artifactVersion: 'text'}" sortable="'artifactVersion'">
						{{p.artifactVersion}}
					</td>
					<td title="'Starts'" sortable="'dateStarted'">
						{{ p.dateStarted | date }}
					</td>
					<td title="'Completes'" sortable="'dateCompleted'">
						{{ p.dateCompleted | date }}
					</td>
					<td title="'Vetted'" >
						<i ng-if="p.isVetted" class="glyphicon glyphicon-ok"></i>
					</td>
					<td title="'Resolved'" >
						<i ng-if="p.isResolved" class="glyphicon glyphicon-ok"></i>
					</td>
					<td title="'Published'" >
						<i ng-if="p.isPublished" class="glyphicon glyphicon-ok"></i>
					</td>
					<td class="actions-col action-x1" header-class="'actions-col action-x1'">
						<a class="btn btn-link btn-sm" ng-click="$event.stopPropagation()" ng-if="p.userCan.write" ui-sref="p.commentperiod.edit({periodId:p._id})">
							<span class="glyphicon glyphicon-pencil"></span>
						</a>
					</td>
				</tr>
				<tr ng-if="!$data || $data.length === 0">
					<td colspan="10">
						No records found.
					</td>
				</tr>
			</table>
		</section>
	</div>

</div>
