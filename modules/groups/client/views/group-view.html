<div class="view-title-container flex-row">
  <h1>Project Group &nbsp;&rsaquo;&nbsp; {{s.group.name}}</h1>
  <div class="actions">
    <button class="btn btn-default btn-sm" ui-sref="p.group.list">Cancel</button>
    <button class="btn btn-default btn-sm"
            ng-if="project.userCan.createProjectUpdates"
            ng-click="$event.stopPropagation()"
            x-mode="'edit'"
            ui-sref="p.group.edit({groupId:s.group._id})"><span class="glyphicon glyphicon-pencil"></span><span>Edit</span>
    </button>
  </div>
</div>

<div class="view-body-container">

  <ul class="nav nav-tabs" ng-init="form.curTab = 'Update Details'">
    <li role="presentation" ng-class="{'active':form.curTab === 'Update Details'}" class="form-group">
      <a ng-click="form.curTab = 'Update Details'" title="Edit Project Update Details" name="detailsForm">
        <span class="glyphicon glyphicon-exclamation-sign"></span>Group Details</a>
    </li>
    <li role="presentation" ng-class="{'active':form.curTab === 'recipients'}" class="form-group">
      <a ng-click="form.curTab = 'recipients'" title="Edit Project Members" name="recipientsForm">
        <span class="glyphicon glyphicon-exclamation-sign"></span>Members ({{members.length}})</a>
    </li>
  </ul>

  <div class="tab-pane active" ng-show="form.curTab === 'Update Details'" ng-form="detailsForm">

    <div class="form-group" x-show-errors>
      <label class="control-label">Group Name</label>
      <input class="form-control" ng-model="s.group.name" id="name" name="name" title="Name" required disabled />
    </div>
    <div class="form-group" x-show-errors>
      <label class="control-label">Group Type</label>
      <input class="form-control" ng-model="s.group.type" id="type" name="type" title="Type" required disabled />
    </div>  </div>

  <div class="tab-pane" ng-show="form.curTab === 'recipients'" ng-form="recipientsForm">
    <div class="panel panel-default">
      <table ng-table="tableParams" show-filter="true" class="communications-table table table-hover vc-table">
        <tr ng-repeat="o in $data">
          <td class="name-col"
              header-class="'name-col'"
              data-title="'Name'"
              filter="{'displayName':'text'}"
              sortable="'displayName'">{{o.displayName}}
          </td>
          <td class="email-col"
              header-class="'email-col'"
              data-title="'Email'"
              filter="{'email':'text'}"
              sortable="'email'">{{o.email}}
          </td>
          <td class="org-col"
              header-class="'org-col'"
              data-title="'Organization'"
              filter="{'orgName':'text'}"
              sortable="'orgName'">{{o.orgName}}
          </td>
        </tr>

        <tr class="no-records hidden" ng-if="!$data || $data.length === 0">
          <td colspan="2">
            No records found.
          </td>
        </tr>

      </table>
    </div>
  </div>

  <div class="form-footer no-border clearfix">
    <a class="back-btn btn btn-link pull-left" ui-sref="p.group.list"><span class="glyphicon glyphicon-chevron-left"></span>Back to Project Groups</a>
  </div>

</div>


