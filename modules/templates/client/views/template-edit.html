<h1 class="page-title">
	Add/Edit Template
</h1>
	<div class="block-content">
		<div class="panel-body">
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label for="documentType" class="control-label">For Document Type</label>
						<select ng-disabled="which=='edit'" id="documentType" ng-model='template.documentType' class="form-control input-sm" ng-options="type as type for type in types"></select>
					</div>
				</div>
			</div>
			<div class="row" >
				<h4>Sections</h4>
				<button ng-click="addSection()">Append Section</button>
				<div style="margin-left:20px" ng-repeat="section in template.sections">
					<div class="form-group">
						<hr/>
						<div class="col-sm-4">
							<label for="name" class="control-label">Section Name</label>
							<input id="name" type="text" class="form-control input-sm" ng-model="section.name">
						</div>
						<div class="col-sm-2">
							<label for="optional" class="control-label checkbox-inline">Optional
							<input id="optional" type="checkbox" class="form-control input-sm" ng-model="section.optional">
							</label>
						</div>
						<div class="col-sm-2">
							<label for="multiple" class="control-label checkbox-inline">Multiple
							<input id="multiple" type="checkbox" class="form-control input-sm" ng-model="section.multiple">
							</label>
						</div>
						<div class="col-sm-2" ng-if="section.multiple">
							<label for="isheader" class="control-label checkbox-inline">Header
							<input id="isheader" type="checkbox" class="form-control input-sm" ng-model="section.isheader">
							</label>
						</div>
						<div class="col-sm-2" ng-if="section.multiple">
							<label for="isfooter" class="control-label checkbox-inline">Footer
							<input id="isfooter" type="checkbox" class="form-control input-sm" ng-model="section.isfooter">
							</label>
						</div>
					</div>
					<div  ng-if="section.multiple && section.isheader">
						<div class="col-sm-12">
							<div class="form-group">
								<label for="shortDesc" class="control-label">Header (Optional)</label>
								<textarea id="shortDesc" type="text" class="form-control input-sm" ng-model="section.header" rows=6></textarea>
							</div>
						</div>
					</div>
					<div >
						<div class="col-sm-12">
							<div class="form-group">
								<label for="shortDesc" class="control-label">Template</label>
								<textarea id="shortDesc" type="text" class="form-control input-sm" ng-model="section.template" rows=6></textarea>
							</div>
						</div>
					</div>
					<div  ng-if="section.multiple && section.isfooter">
						<div class="col-sm-12">
							<div class="form-group">
								<label for="shortDesc" class="control-label">Footer (Optional)</label>
								<textarea id="shortDesc" type="text" class="form-control input-sm" ng-model="section.footer" rows=6></textarea>
							</div>
						</div>
					</div>
					<div class="col-sm-12">
						<h5>Variables</h5>
						<button ng-click="addVariable(section.meta)">Add Variable</button>
					</div>
					<div style="margin-left:20px" ng-repeat="field in section.meta">
						<hr/>
						<div class="form-group">
							<div class="col-sm-3">
								<label for="name" class="control-label">Variable Name (no spaces)</label>
								<input id="name" type="text" class="form-control input-sm" ng-model="field.name">
							</div>
							<div class="col-sm-3">
								<label for="label" class="control-label">Label</label>
								<input id="label" type="text" class="form-control input-sm" ng-model="field.label">
							</div>
							<div class="col-sm-3">
								<label for="type" class="radio-inline">
								<input name="type" type="radio" ng-model="field.type" value="Text">Text</label>
								<label for="type" class="radio-inline">
								<input name="type" type="radio" ng-model="field.type" value="Html">Html</label>
							</div>
							<div class="col-sm-3">
								<label for="default" class="control-label">Default value</label>
								<input id="default" type="text" class="form-control input-sm" ng-model="field.default">
							</div>
						</div>
				</div>
			</div>
		</div>
	</div>

<div class="button-panel">
	<a class="btn btn-danger" ui-sref="admin.template.list">Cancel</a>
	<a class="btn btn-primary" href ng-click="save()">Save</a>
</div>

