<section class="panel panel-default">
	
	<div class="panel-heading clearfix">
		<h2 class="pull-left" ng-show="environment === 'EAO' && title !== 'no'">List of Environmental Assessments</h2>
		<h2 class="pull-left" ng-show="environment === 'MEM' && title !== 'no'">Mining Projects</h2>
		<div class="pull-right">
			<show-filter x-toggle-filter="toggleFilter"></show-filter>
		</div>
	</div>
	
	<table x-show-filter="toggleFilter" ng-table="projectList.tableParams" class="projects-table table table-striped">
		<tr ng-repeat="o in $data" class='clickable' ui-sref="p.detail({projectid: o.code})">
			<td header-class="'name-col'" data-title="'Name'" filter="{'name':'text'}" sortable="'name'">
				{{o.name}}
			</td>
			<td ng-if="environment === 'MEM'" data-title="'Permit'" filter="{'memPermitID':'text'}" sortable="'memPermitID'">
				{{o.memPermitID}}
			</td>
			<td header-class="'type-col'" data-title="'Type'" filter="{type:'select'}" filter-data="projectList.typeArray"sortable="'type'">
				{{o.type}}
			</td>
			<td header-class="'region-col'" data-title="'Region'" filter="{region:'select'}" filter-data="projectList.regionArray" sortable="'region'">
				{{o.region | regionName}}
			</td>
			<td header-class="'phase-col'" data-title="'Phase'" filter="{'currentPhase.name':'text'}"sortable="'currentPhase.name'" >
				{{o.currentPhase.name}}
			</td>
			<!--
			<td ng-if="environment === 'EAO'"
				data-title="'Status'"
				filter="{status:'select'}"
				filter-data="projectList.statusArray"
				sortable="'status'">
				{{o.status}}
			</td>
			-->	
		</tr>
		
		<tr ng-show="!$data || !$data.length" class="text-center">
			<td ng-if="environment === 'EAO'" colspan="4">No results match your search.</td>
			<td ng-if="environment === 'MEM'" colspan="4">No results match your search.</td>
		</tr>
		
	</table>
</section>

